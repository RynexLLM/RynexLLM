"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[86],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(n),h=r,m=u["".concat(l,".").concat(h)]||u[h]||d[h]||i;return n?a.createElement(m,o(o({ref:t},p),{},{components:n})):a.createElement(m,o({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:r,o[1]=s;for(var c=2;c<i;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},6510:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var a=n(7462),r=(n(7294),n(3905));const i={},o="Creating Your First Sequential Chain",s={unversionedId:"getting-started-tutorial/building-a-multi-step-chain",id:"getting-started-tutorial/building-a-multi-step-chain",title:"Creating Your First Sequential Chain",description:"Having problems? Don't worry reach out on discord and we will help you out.",source:"@site/docs/getting-started-tutorial/04-building-a-multi-step-chain.md",sourceDirName:"getting-started-tutorial",slug:"/getting-started-tutorial/building-a-multi-step-chain",permalink:"/llm-chain/docs/getting-started-tutorial/building-a-multi-step-chain",draft:!1,editUrl:"https://github.com/sobelio/llm-chain/tree/main/docs/docs/getting-started-tutorial/04-building-a-multi-step-chain.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{},sidebar:"sidebar",previous:{title:"Using Prompt Templates and Parameters",permalink:"/llm-chain/docs/getting-started-tutorial/using-prompt-templates-and-parameters"},next:{title:"Summarizing Text with Map-Reduce in LLM-Chain",permalink:"/llm-chain/docs/getting-started-tutorial/summarizing-text-with-map-reduce"}},l={},c=[{value:"Best Practices and Tips",id:"best-practices-and-tips",level:2}],p={toc:c},u="wrapper";function d(e){let{components:t,...n}=e;return(0,r.kt)(u,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"creating-your-first-sequential-chain"},"Creating Your First Sequential Chain"),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Having problems? Don't worry reach out on ",(0,r.kt)("a",{parentName:"p",href:"https://discord.gg/kewN9Gtjt2"},"discord")," and we will help you out.")),(0,r.kt)("p",null,"Sequential chains in LLM-Chain allow you to execute a series of steps, with the output of each step feeding into the next one. This tutorial will guide you through creating a sequential chain, extending it with more steps, and provide some best practices and tips."),(0,r.kt)("p",null,"Here's a Rust program that demonstrates how to create a sequential chain:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-rust"},'use llm_chain::chains::sequential::Chain;\nuse llm_chain_openai::chatgpt::{Executor, Model, Role, Step};\n\n#[tokio::main(flavor = "current_thread")]\nasync fn main() {\n    let exec = Executor::new_default();\n    let chain = Chain::new(vec![\n        Step::new(\n            Model::ChatGPT3_5Turbo,\n            [\n                (\n                    Role::System,\n                    "You are a bot for making personalized greetings",\n                ),\n                (\n                    Role::User,\n                    "Make personalized birthday e-mail to the whole company for {name} who has their birthday on {date}. Include their name",\n                ),\n            ],\n        ),\n        Step::new(\n            Model::ChatGPT3_5Turbo,\n            [\n                (\n                    Role::System,\n                    "You are an assistant for managing social media accounts for a company",\n                ),\n                (\n                    Role::User,\n                    "Summarize this email into a tweet to be sent by the company, use emoji if you can. \\n--\\n{}",\n                ),\n            ],\n        ),\n    ]);\n    let res = chain\n        .run(\n            vec![("name", "Emil"), ("date", "February 30th 2023")].into(),\n            &exec,\n        )\n        .await\n        .unwrap();\n    println!("{:?}", res);\n}\n')),(0,r.kt)("p",null,"Let's break down the code and understand the different parts:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Build a new Chain by providing a vector of Steps. In this example, we have two steps:\na. The first step creates a personalized birthday email for a person named Emil.\nb. The second step summarizes the email into a tweet, including an emoji if possible.\nTo extend the chain with more steps, simply add additional Steps to the vector. The output of the previous step will be fed into the next step as input."),(0,r.kt)("li",{parentName:"ol"},"Create a Parameters object with the necessary values for the placeholders in the prompt templates."),(0,r.kt)("li",{parentName:"ol"},"Execute the Chain with the provided parameters and store the result in res."),(0,r.kt)("li",{parentName:"ol"},"Print the LLM response to the console.")),(0,r.kt)("h2",{id:"best-practices-and-tips"},"Best Practices and Tips"),(0,r.kt)("p",null,"When working with sequential chains, consider the following tips and best practices:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Use descriptive and clear instructions for the system role to help guide the LLM."),(0,r.kt)("li",{parentName:"ol"},"Keep the chain as short and simple as possible. Longer chains are harder to manage and debug."),(0,r.kt)("li",{parentName:"ol"},"Test each step independently before in")),(0,r.kt)("p",null,"For the next tutorial we will switch our focus from sequential to map-reduce chains. Map reduce chains are more complicated than sequential chains but allow us to do things that sequential chains can't. Stay tuned!"))}d.isMDXComponent=!0}}]);